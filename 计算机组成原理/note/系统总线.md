# 系统总线

计算机系统的五大部件之间的互联方式有两种，第一种是各部件之间使用单独的连线，称为**分散连接**；另一种是将各部件连到一组公共信息连接线上，称为**总线连接**；*

## 一.总线的基本概念、分类及性能

### 1.基本概念

总线：是连接多个部件的信息传输线，是各部件共享的传输介质；

### 2.总线分类

（1）按数据传送方式可分为并行传输总线和串行传输总线

![img](https://pic1.zhimg.com/80/v2-6575d0f5a0c089e6b3a674de981118f8_720w.webp)

（2）按连接部件不同，可分为：片内总线、系统总线、通信总线；

**片内总线**：芯片内部的总线，如CPU内部；

**系统总线**：CPU、主存、I/O设备各大部件之间的信息传输线；按系统总线传输信息的不同，又可分为三类：数据总线、地址总线、控制总线；

![img](https://pic4.zhimg.com/80/v2-9b8a0ff700c57c110a38b725a35aafcf_720w.webp)

> 数据总线：用来传输各功能部件之间的数据信息；
> 地址总线：用来指出数据总线上的源数据或目的数据在主存单元的地址或I/O设备的地址；
> 控制总线：用来发出各种控制信号的传输线；

**通信总线**：用于计算机系统之间或与其他系统之间的通信；

### 3.总线特性及性能指标

![img](https://pic2.zhimg.com/80/v2-796aa7efab5c4aabccb30ed5313d5ee9_720w.webp)

![img](https://pic2.zhimg.com/80/v2-5fe69a0b4fb342cd0472b5589249df65_720w.webp)

![img](https://pic3.zhimg.com/80/v2-4c1ca755d809ab9857287971d6d5941a_720w.webp)

## 二.总线控制

*由于总线上连接着多个部件，什么时候由哪个部件发出信息，如何给信息传送定时，如何防止信息丢失，如何避免多个部件同时发送，如何规定接收信息的部件等一系列问题都需要由总线控制器统一管理。它主要包括**判优控制**和**通信控制**；*

### 1.总线判优控制

若多个主设备同时要使用总线时，就由总线控制器的判优、仲裁逻辑按一定的优先等级顺序确定哪个主设备能使用总线；总线判优控制分为两种：集中式，分布式；

![img](https://pic2.zhimg.com/80/v2-c625e4a7e151fcf354f2981a66471d35_720w.webp)

（1）链式查询

![img](https://pic1.zhimg.com/80/v2-ccc7cacb8556193e0a48650089be9bb4_720w.webp)

各接口发出总线请求，总线控制部件通过BG查看是否有请求，如有请求就总线同意，再总线忙BS

（2）计数器定时查询

![img](https://pic3.zhimg.com/80/v2-472c7184e9d0a13268ba5b9ab2d0a7ca_720w.webp)

接口发出总线占用请求时，总线控制部件通过计数器在设备地址线上传输地址，对应有占用请求的接口获得总线使用权

（3）独立请求方式

![img](https://pic2.zhimg.com/80/v2-dbfca834b29c136ea5c13166a26ec055_720w.webp)

各个接口独立请求，总线控制部件中的排队电路按照优先次序确定相应哪一台设备的请求

### 2.总线通信控制

*总线通信控制主要解决通信双方如何获知传输开始和传输结束，以及通信双方如何协调如何配合。通常将完成一次总线操作的时间称为总线周期，可分为四个阶段：*

![img](https://pic4.zhimg.com/80/v2-e56fbd338379ff77dbba20a14112cae3_720w.webp)

*总线通信通常有四种方式：*

![img](https://pic4.zhimg.com/80/v2-a31e91ed798b460dfba7fbc6c17e585f_720w.webp)