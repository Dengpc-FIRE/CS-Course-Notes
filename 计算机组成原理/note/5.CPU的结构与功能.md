# CPU的结构与功能

分析机器语言指令是如何在计算机硬件上执行的

提高计算机指令速度的方法---指令流水，指令流水的CPU的基本结构

中断系统功能与结构

## 8.1 CPU 的结构

### 一、CPU的功能

对一条指令进行解释

1.控制器的功能

> 取指令                                                          指令控制
>
> 分析指令                                                      操作控制
>
> 执行指令，发出各种操作命令                   时间控制
>
> 控制程序的输入以及结果的输出                  
>
> 总线管理                                                     处理中断
>
> 处理异常和特殊请求                                  数据处理

2.运算器的功能

> 实现算术运算和逻辑运算

### 二、CPU结构框图

![image-20230511174830745](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511174830745.png)



### 三、CPU的寄存器

1.用户可见寄存器

![image-20230511175304953](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511175304953.png)

2.控制和状态寄存器

![image-20230511175557706](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511175557706.png)

四、控制单元CU和中断系统

![image-20230511175840693](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511175840693.png)

五、ALU



## 8.2 指令周期

### 一、指令周期的基本概念

![image-20230511180259619](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511180259619.png)

![image-20230511180507793](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511180507793.png)

![image-20230511180711486](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511180711486.png)

![image-20230511180837049](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511180837049.png)

![image-20230511181123889](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511181123889.png)

### 二、指令周期的数据流

![image-20230511181416552](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511181416552.png)

![image-20230511181607417](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511181607417.png)

![image-20230511181835043](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511181835043.png)

CU把中断写到MAR上

## 8.3 指令流水

### 一、如何提高机器速度

![image-20230511182243456](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511182243456.png)

### 二、系统的并行性

![image-20230511182429824](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511182429824.png)

### 三、指令流水原理

![image-20230511182637514](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511182637514.png)

![image-20230511182930863](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511182930863.png)

![image-20230511183050051](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511183050051.png)

### 四、影响指令流水性能的因素

![image-20230511183453853](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511183453853.png)

![image-20230511183824587](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511183824587.png)

![image-20230511184037797](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511184037797.png)

### 五、流水线性能

![image-20230511184233474](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511184233474.png)

![image-20230511184423286](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511184423286.png)

![image-20230511184458169](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511184458169.png)

### 六、流水线的多发技术

![image-20230511184724246](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511184724246.png)

![image-20230511184916245](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511184916245.png)

![image-20230511185055297](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511185055297.png)

### 七、流水线结构

![image-20230511193633244](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511193633244.png)

![image-20230511193752452](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511193752452.png)

## 8.4 中断系统

![image-20230511194200742](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230511194200742.png)