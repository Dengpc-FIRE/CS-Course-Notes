# 计算机的运算方法

## 6.1 无符号数和有符号数

### 一、无符号数

寄存器的位数反映无符号数的表示范围

![在这里插入图片描述](https://img-blog.csdnimg.cn/a79893e3225d41198c9c6c4c2045c2f2.png#pic_center)

### 二、有符号数

1. **机器数与真值**
真值：带符号的数（就是平时书写的数字）
机器数：符号数字化的数（就是原码）

![在这里插入图片描述](https://img-blog.csdnimg.cn/7b9996b6913f42bdaec677c03b6cc499.png#pic_center)

小数点的位置是约定的如果是小数定点机那么小数点位置在符号位之后**，如果是整数定点机那么小数点在最后一位

2. **原码表示法**
原码就是机器码

整数：

![在这里插入图片描述](https://img-blog.csdnimg.cn/648d5e6b136b423d87e530337bf8412a.png#pic_center)

小数：

![在这里插入图片描述](https://img-blog.csdnimg.cn/2a3131d30dfa4597b69259763cd092ef.png#pic_center)

原码的特点：
简单、直观
[+0]原 ≠ [-0]原

3. **补码表示法**
能否 只作加法 ?
找到一个与负数等价的正数 来代替这个负数就可使 减 ——>加

一个负数加上 “模” 即得该负数的补数
一个正数和一个负数互为补数时它们绝对值之和即为 模数

整数：

![在这里插入图片描述](https://img-blog.csdnimg.cn/106d69852ec54d8f8af322dfab6acf4b.png#pic_center)

小数：

![在这里插入图片描述](https://img-blog.csdnimg.cn/c2fabc18a25945afb589ce497a6e159a.png#pic_center)

求补码的快捷方式：

**正数的补码就是其本身，负数的补码为其反码+1**

4. **反码表示法**
反码就是原码每位取反

5. **移码表示法**
补码表示很难直接判断其真值大小，因为补码负数符号位为1，正数为0，这样负数就比正数大了

所以将真值整体加上一个常数，使得变大，使得所有数均为正数，这样就可以方便比较了

移码只有整数没有小数![在这里插入图片描述](https://img-blog.csdnimg.cn/de2a664b536f4a6abc8a82fb86fe0773.png#pic_center)



用移码表示浮点数的阶码能方便地判断浮点数的阶码大小

## 6.2 数的定点表示和浮点表示

### 一、定点表示

分为小数定点机和整数定点机

小数点的位置是约定的如果是小数定点机那么小数点位置在符号位之后，如果是整数定点机那么小数点在最后一位

### 二、浮点表示

N = S×r^j 浮点数的一般形式
S 尾数 j 阶码 r 尾数的基值

S 小数、可正可负
j 整数、可正可负

1. **浮点数的表示形式**
2. ![在这里插入图片描述](https://img-blog.csdnimg.cn/249ad57d61d44977ba919fe09217f030.png#pic_center)

Sf 代表浮点数的符号
n 其位数反映浮点数的精度
m 其位数反映浮点数的表示范围
jf 和 m 共同表示小数点的实际位置

2. **浮点数的表示范围**
上溢 阶码 > 最大阶码

下溢 阶码 < 最小阶码 按 机器零 处理

![在这里插入图片描述](https://img-blog.csdnimg.cn/4489e2eb65b44d6e8171875cfeb5b4ea.png#pic_center)

3. **浮点数的规格化形式**
4. ![在这里插入图片描述](https://img-blog.csdnimg.cn/7f968b837a7c4182a116f83f3e47d8b8.png#pic_center)

**4.浮点数的规格化**

![在这里插入图片描述](https://img-blog.csdnimg.cn/df3a0cadca6643f58d2e322441b935cd.png#pic_center)


基数 r 越大，可表示的浮点数的范围越大
基数 r 越大，浮点数的精度降低

三、IEEE 754 标准

![在这里插入图片描述](https://img-blog.csdnimg.cn/058ae606d7054656bf96e3218b049516.png#pic_center)

## 6.3 定点运算

### 一、移位运算

目的：在计算机中，移位与加减配合，能够实现乘除运算

移位指数据相对小数点移动

![image-20230331193528591](C:\Users\邓\AppData\Roaming\Typora\typora-user-images\image-20230331193528591.png)
算术移位：有符号数的移位
逻辑移位：无符号数的移位

### 二、加减法运算

1. **补码加减运算公式**
连同符号位一起相加，符号位产生的进位自然丢掉

整数 [A]补 + [B]补 = [A+B]补（mod 2n+1）
小数 [A]补 + [B]补 = [A+B]补（mod 2）

整数 [A – B]补 = [A+(–B )]补 = [A]补 + [ – B]补 (mod 2n+1)
小数 [A – B]补 = [A+(–B )]补 = [A]补 + [ – B]补 (mod 2)

2. **溢出判断**
**(1) 一位符号位判溢出**
最高有效位的进位异或符号位的进位 = 1

**(2) 两位符号位判溢出**
结果的双符号位 相同 未溢出
结果的双符号位 不同 溢出

最高符号位 代表其 真正的符号

3. **补码加减法的硬件配置**
4. ![在这里插入图片描述](https://img-blog.csdnimg.cn/56d02304fdd34502aa520ef14de406b1.png#pic_center)

A、X 均 n+1 位
用减法标记 GS 控制求补逻辑

### 三、乘法运算

乘法 运算可用 加和移位实现

由乘数的末位决定被乘数是否与原部分积相加，然后 1 位形成新的部分积，同时 乘数 1 位（末位移丢），空出高位存放部分积的低位。

被乘数只与部分积的高位相加

硬件：3 个寄存器，其中2个具有移位功能1 个全加器

特点：

绝对值运算
逻辑移位
用移位的次数判断乘法是否结束
原码一位乘的硬件配置![在这里插入图片描述](https://img-blog.csdnimg.cn/c962930580544da4b0223adf5f966496.png#pic_center)

A、X、Q 均 n+1 位
移位和加受末位乘数控制

### 四、除法运算

小数定点除法 x* ＜ y*
整数定点除法 x* ＞ y*
被除数不等于 0
除数不能为 0

**恢复余数法**
余数 Ri＞0 上商 “1”，2Ri – y*
余数 Ri＜0 上商 “0”， Ri + y* 恢复余数

**不恢复余数法（加减交替法）**
上商“1” 2Ri – y*
上商“0” 2Ri + y*

特点：

上商 n+1 次
第一次上商判溢出
移 n 次，加 n+1 次
用移位的次数判断除法是否结束
原码加减交替除法硬件配置![在这里插入图片描述](https://img-blog.csdnimg.cn/cd4b24ad37424bd685a1a203dd59ce03.png#pic_center)

A、X、Q 均 n +1 位
用 Qn 控制加减交替

## 6.4 浮点四则运算

### 一、浮点加减运算

x = Sx · 2j^x
y = Sy · 2j^y

1. **对阶**
(1) 求阶差

**(2) 对阶原则**
小阶向大阶看齐

2. **尾数求和**
尾数通过定点数加法求和

3. **规格化**
原码： 不论正数、负数，第一数位为1
补码： 符号位和第 一数位不同

**左规**
尾数左移一位，阶码减 1，直到数符和第一数位不同为止

**右规**
当 尾数溢出（ >1）时，需 右规
尾数右移一位，阶码加 1

4. **舍入**
(1) 0 舍 1 入法
(2) 恒置 “1” 法
5. **溢出判断**
6. ![在这里插入图片描述](https://img-blog.csdnimg.cn/53834521a2bf44bda557df5d8349bade.png#pic_center)





运算器：arithmetic unit，计算机中执行各种算术运算和逻辑运算操作的部件。**运算器的基本操作包括加、减、乘、除四则运算，与、或、非、异或等逻辑操作，以及移位、比较和传送等操作，亦称算术逻辑部件(ALU)。**

**运算器由算术逻辑单元(ALU)、累加器、状态寄存器、通用寄存器组等组成**。

算术逻辑运算单元(ALU)的基本功能为加、减、乘、除四则运算，与、或、非、异或等逻辑操作，以及移位、求补等操作。计算机运行时，运算器的操作和操作种类由控制器决定。运算器处理的数据来自存储器；处理后的结果数据通常送回存储器，或暂时寄存在运算器中。与Control Unit共同组成了CPU的核心部分。

**运算器的基本功能是完成对各种数据的加工处理，例如算术四则运算，与、或、求反等逻辑运算，算术和逻辑移位操作，比较数值，变更符号，计算主存地址等**。

运算器中的寄存器用于临时保存参加运算的数据和运算的中间结果等。运算器中还要设置相应的部件，用来记录一次运算结果的特征情况，如是否溢出，结果的符号位，结果是否为零等。

计算机所采用的运算器类型很多，从不同的角度分析，就有不同的分类方法。

从小数点的表示形式可分为定点运算器和浮点运算器。定点运算器只能做定点数运算，特点是机器数所表示的范围较小，但结构较简单。浮点运算器功能较强，既能对浮点数，又能对定点数进行运算，其数的表示范围很大，但结构相当复杂。

从进位制方面分为二进制运算器和十进制运算器。一般计算机都采用二进制运算器，随着计算机广泛应用于商业和数据处理，越来越多的机器都扩充十进制运算的功能，使运算器既能完成二进制的运算，也能完成十进制运算。

计算机中运算器需要具有完成多种运算操作的功能，因而必须将各种算法综合起来，设计一个完整的运算部件。

